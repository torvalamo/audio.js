<!doctype html>
<html>
<head>
	<title>Simpleaudio example</title>
	<script src="../simpleaudio.js"></script>
	<script>
		window.onload = function() {
			var sounds_to_load = 2;
			
			function event(e, sound) {
				document.getElementById("data").innerHTML += e + ': ' + sound + '<br>';
				
				var elem = document.getElementById("btn_" + sound)
				if (e == "loaded") {
					elem.disabled = false;
					sounds_to_load--;
					if (!sounds_to_load) {
						document.getElementById("loading").style.display = "none";
					}
				}
				if (e == "play") {
					elem.disabled = true;
				}
				if (e == "ended") {
					elem.disabled = false;
				}
			}
			
			htmlaudio.path("sounds");
			htmlaudio.add("heal", event);
			htmlaudio.add("thunder", event);
		}
	</script>
</head>
<body>
	<button id="btn_heal" onclick="htmlaudio.play('heal')" disabled>Play heal</button>
	<button id="btn_thunder" onclick="htmlaudio.play('thunder')" disabled>Play thunder</button>
	<br><button onclick="htmlaudio.stop()">Stop all</button>
	<div id="loading">Loading audio files, please wait...</div>
	<div id="data"></div>
</body>
</html>